{% extends "base.html" %}
{% block title %}Tu Carrito{% endblock %}

{% block contenido %}
<h1>Tu Carrito de Compra</h1>

{% if carrito.carrito %}
  <ul>
    {% for producto, cantidad in carrito.carrito.items() %}
      <li>
        {{ producto.nombre }} — Cantidad: {{ cantidad }} — Precio unitario: €{{ producto.precio }} — Subtotal: €{{ (producto.precio * cantidad) | round(2) }}
      </li>
    {% endfor %}
  </ul>

  <p><strong>Total:</strong> €{{ total | round(2) }}</p>
  <p><strong>Coste envío:</strong> €{{ envio | round(2) }}</p>

  <form action="{{ url_for('views.vaciar_carrito') }}" method="POST">
    <button type="submit" class="btn btn-danger">Vaciar Carrito</button>
  </form>

{% else %}
  <p>Tu carrito está vacío.</p>
{% endif %}

<a href="{{ url_for('views.home') }}" class="btn btn-primary">Seguir comprando</a>
{% endblock %}
